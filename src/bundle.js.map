{"version":3,"sources":["webpack:///webpack/bootstrap 356d05e13a7940fe3d01","webpack:///./src/items.js","webpack:///./src/player.js","webpack:///./src/board.js","webpack:///./src/computer.js","webpack:///./src/index.js","webpack:///./src/game.js"],"names":[],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;AAEA;AACA;;;;;;;AC7DA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;AC3CA;;AAEA;AACA;AACA;AACA;AACA;AACA,4BAA4B;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB;;AAEnB;AACA;AACA;AACA;;AAEA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,8DAA8D,0DAA0D;AACxH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,sCAAsC,kBAAkB;AACxD;;AAEA;AACA;AACA,mBAAmB,mBAAmB;AACtC;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;;AAEA,YAAY;AACZ;AACA;;AAEA;;;;;;;ACjJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,mBAAmB,2BAA2B;AAC9C;AACA,qBAAqB,wBAAwB;AAC7C;AACA,0BAA0B;AAC1B;AACA,SAAS;AACT;AACA,0BAA0B;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,mBAAmB,2BAA2B;AAC9C;AACA,qBAAqB,wBAAwB;AAC7C;AACA,0BAA0B;AAC1B;AACA,SAAS;AACT;AACA,0BAA0B;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;;;;;;;;ACzHA;AACA;AACA;AACA;AACA;AACA,4BAA4B;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,mBAAmB,mBAAmB;AACtC;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;;AAEA,YAAY;AACZ;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB;AACnB,kDAAkD;AAClD;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;AChFA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;;AAEA,gEAAgE;AAChE;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH,iEAAiE;AACjE;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH,CAAC;;AAED;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;;;;;;AC3EA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA","file":"./src/bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 4);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 356d05e13a7940fe3d01","const Player = require(\"./player\");\n\nclass Items {\n  constructor(ctx, player, type, color, position) {\n    this.ctx = ctx;\n    this.player = player;\n    this.type = type;\n    this.status = 1;\n    this.color = color;\n    this.position = {x: position.x, y: position.y};\n    this.radius = 50;\n\n  }\n\n  drawItem() {\n    if (this.type === 'bomb') {\n      this.ctx.beginPath();\n      this.ctx.arc(this.position.x, this.position.y, 15, 0, Math.PI*2);\n      this.ctx.fillStyle = this.color;\n      this.ctx.fill();\n      this.ctx.closePath();\n    }\n  }\n\n  detonate() {\n    this.status = 3;\n  }\n\n\n  drawExplosion() {\n    this.ctx.beginPath();\n    this.ctx.arc(this.position.x, this.position.y, 50, 0, Math.PI*2);\n    this.ctx.fillStyle = \"#233D4D\";\n    this.ctx.fill();\n    this.ctx.closePath();\n\n    this.ctx.beginPath();\n    this.ctx.arc(this.position.x, this.position.y, 45, 0, Math.PI*2);\n    this.ctx.fillStyle = \"#64a7d1\";\n    this.ctx.fill();\n    this.ctx.closePath();\n  }\n}\n\nmodule.exports = Items;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/items.js\n// module id = 0\n// module chunks = 0","\nconst Item = require(\"./items\");\n\nclass Player {\n  constructor(ctx, canvas, img, game) {\n    this.ctx = ctx;\n    this.canvas = canvas;\n    this.img = img;\n    this.currentPosition = {x: 0, y: 65 };\n    this.status = 1;\n    this.numBombs = 1;\n    this.game = game;\n    this.width = 44;\n    this.height = 44;\n    this.bombs = [];\n  }\n\n  drawPlayer() {\n    this.ctx.drawImage(this.img, this.currentPosition.x, this.currentPosition.y,\n    44, 44);\n  }\n\n  keyDownHandler(e) {\n    if (!this.game.started) {\n      return;\n    }\n    let dx = 0;\n    let dy = 0;\n    let newMove = {dx: 0, dy: 0};\n\n    if (e.key === \"ArrowLeft\") {\n      dx = -22;\n      dy = 0;\n      newMove = this.walkingCollisionDetection(dx, dy);\n\n    } else if (e.key === \"ArrowDown\") {\n      dx = 0;\n      dy = 22;\n      newMove = this.walkingCollisionDetection(dx, dy);\n    } else if (e.key === \"ArrowUp\") {\n      dx = 0;\n      dy = -22;\n      newMove = this.walkingCollisionDetection(dx, dy);\n    } else if (e.key === \"ArrowRight\") {\n      dx = 22;\n      dy = 0;\n      newMove = this.walkingCollisionDetection(dx, dy);\n    } else if (e.key === \"b\") {\n      dx = 0;\n      dy = 0;\n      if (this.numBombs > 0) {\n        this.setBomb = true;\n        this.placeBomb();\n      }\n    } else {\n      dx = 0;\n      dy = 0;\n    }\n    dx = newMove.dx;\n    dy = newMove.dy;\n    return this.movePlayer(dx, dy);\n  }\n\n  movePlayer(dx, dy) {\n\n    if (this.currentPosition.x + dx < 0 || this.currentPosition.x + dx >= this.canvas.width\n    || this.currentPosition.x + this.width >= this.canvas.width) {\n      dx = 0;\n    }\n    if (this.currentPosition.y + dy < 65 || this.currentPosition.y + dy >= this.canvas.height\n    || this.currentPosition.y + this.height >= this.canvas.height) {\n      dy = 0;\n    }\n    if (this.currentPosition.x + dx < 0 || this.currentPosition.x + 22 + dx >= this.canvas.width) {\n      dx = 0;\n    }\n    if (this.currentPosition.y + dy < 65 || this.currentPosition.y + 22 + dy >= this.canvas.height) {\n\n      dy = 0;\n    }\n    this.currentPosition.x += dx;\n    this.currentPosition.y += dy;\n    return this.drawPlayer();\n  }\n\n  placeBomb() {\n    this.numBombs -= 1;\n    const bomb = new Item(this.ctx, this, 'bomb', \"#233D4D\", {x: this.currentPosition.x + 15, y: this.currentPosition.y}, this.game);\n    this.bombs.push(bomb);\n    bomb.drawItem();\n    window.setTimeout(bomb.detonate.bind(bomb), 3000);\n  }\n\n  bombAvatarCollisionDetection(bombPosition) {\n    let playerPosition = this.currentPosition;\n    let computerPosition = this.game.computer.currentPosition;\n    let leftBlastRadius = bombPosition.x - 50;\n    let rightBlastRadius = bombPosition.x + 50;\n    let topBlastRadius = bombPosition.y - 50;\n    let bottomBlastRadius = bombPosition.y + 50;\n\n    if (playerPosition.x > leftBlastRadius && playerPosition.x < rightBlastRadius\n      && playerPosition.y > topBlastRadius && playerPosition.y < bottomBlastRadius) {\n        this.status = 0;\n    }\n    if (computerPosition.x > leftBlastRadius && computerPosition.x < rightBlastRadius\n      && computerPosition.y > topBlastRadius && computerPosition.y < bottomBlastRadius) {\n        this.game.computer.status = 0;\n    }\n  }\n\n  bombBrickCollisionDetection(bombPosition) {\n    let leftBlastRadius = bombPosition.x - 50;\n    let rightBlastRadius = bombPosition.x + 50;\n    let topBlastRadius = bombPosition.y - 50;\n    let bottomBlastRadius = bombPosition.y + 50;\n\n    const collidedBricks = this.game.board.bricksStillStanding().filter(\n      brick => brick.x > leftBlastRadius && brick.x < rightBlastRadius\n    && brick.y > topBlastRadius && brick.y < bottomBlastRadius);\n\n    collidedBricks.forEach( brick => {brick.status = 0;});\n  }\n\n  walkingCollisionDetection(dx, dy) {\n    const bricks = this.game.board.allVisibleBricks();\n    for (let i = 0; i < bricks.length; i++) {\n      if ((this.currentPosition.x + 22) + dx >= bricks[i].x &&\n      (this.currentPosition.x + 22) + dx <= bricks[i].x + 44 &&\n      (this.currentPosition.y + 22) + dy >= bricks[i].y &&\n      (this.currentPosition.y + 22) + dy <= bricks[i].y + 44) {\n        return {dx: 0, dy: 0};\n      }\n    }\n    if ((this.currentPosition.x + 22) + dx >= this.game.computer.currentPosition.x\n        && (this.currentPosition.x + 22) + dx <= this.game.computer.currentPosition.x + 22\n        && (this.currentPosition.y + 22) + dy >= this.game.computer.currentPosition.y\n        && (this.currentPosition.y + 22) + dy <= this.game.computer.currentPosition.y + 22) {\n      return { dx: 0, dy: 0};\n    }\n\n    return { dx, dy };\n  }\n}\n\nmodule.exports = Player;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/player.js\n// module id = 1\n// module chunks = 0","class Board {\n  constructor(canvasEl, ctx, width, height) {\n    this.ctx = ctx;\n    this.x = width;\n    this.y = height;\n    this.canvas = canvasEl;\n    this.brickColumnCount = 25;\n    this.brickRowCount = 12;\n    this.brickWidth = 44;\n    this.brickHeight = 44;\n  }\n\n  initializeBricks() {\n    this.brickColumnCount = 25;\n    this.brickRowCount = 12;\n    const brickWidth = 44;\n    const brickHeight = 44;\n    const brickOffsetLeft = 44;\n    const brickOffsetTop = 65;\n    const brickPadding = 44;\n\n    const bricks = [];\n    for (let c = 0; c < this.brickColumnCount; c++) {\n      bricks[c] = [];\n      for (let r = 0; r < this.brickRowCount; r++) {\n        if (c % 5 === 0) {\n          bricks[c][r] = { x: 0, y: 0, status: 2 };\n          this.ctx.fillStyle = \"#F1F7ED\";\n        } else {\n          let displayBrick = Math.floor(Math.random() * 2);\n          bricks[c][r] = { x: 0, y: 0, status: displayBrick};\n          this.ctx.fillStyle = \"#A4243B\";\n        }\n        if (bricks[c][r].status === 2 || bricks[c][r].status === 1) {\n          let brickX = (c * (brickWidth + brickPadding)) + brickOffsetLeft;\n          let brickY = (r * (brickHeight + brickPadding)) + brickOffsetTop;\n          bricks[c][r].x = brickX;\n          bricks[c][r].y = brickY;\n\n          this.ctx.beginPath();\n          this.ctx.rect(brickX, brickY, brickWidth, brickHeight);\n          this.ctx.fill();\n          this.ctx.closePath();\n        }\n      }\n    }\n    this.bricks = bricks;\n  }\n\n  drawBricks() {\n    const brickOffsetLeft = 44;\n    const brickOffsetTop = 65;\n    const brickPadding = 44;\n\n    const bricks = [];\n    for (let c = 0; c < this.brickColumnCount; c++) {\n      bricks[c] = [];\n      for (let r = 0; r < this.brickRowCount; r++) {\n        if (c % 5 === 0) {\n          bricks[c][r] = { x: 0, y: 0, status: 2 };\n          this.ctx.fillStyle = \"#F1F7ED\";\n        } else {\n          let displayBrick = this.bricks[c][r].status;\n          bricks[c][r] = { x: 0, y: 0, status: displayBrick};\n          this.ctx.fillStyle = \"#A4243B\";\n        }\n        if (bricks[c][r].status === 2 || bricks[c][r].status === 1) {\n          let brickX = (c * (this.brickWidth + brickPadding)) + brickOffsetLeft;\n          let brickY = (r * (this.brickHeight + brickPadding)) + brickOffsetTop;\n          bricks[c][r].x = brickX;\n          bricks[c][r].y = brickY;\n\n          this.ctx.beginPath();\n          this.ctx.rect(brickX, brickY, this.brickWidth, this.brickHeight);\n          this.ctx.fill();\n          this.ctx.closePath();\n        }\n      }\n    }\n  }\n\n  getBrickColumnCount(){\n    return this.brickColumnCount;\n  }\n\n  getBrickRowCount() {\n    return this.brickRowCount;\n  }\n\n  getBrickWidth() {\n    return this.brickWidth;\n  }\n\n  getBrickHeight() {\n    return this.brickHeight;\n  }\n\n  draw() {\n    this.drawBricks();\n  }\n\n  bricksStillStanding() {\n    const bricksStillStanding = [];\n    this.bricks.forEach( column => column.forEach( brick => {\n      if (brick.status === 1) {\n        bricksStillStanding.push(brick);\n      }\n    }));\n    return bricksStillStanding;\n  }\n\n  allVisibleBricks() {\n    const allVisibleBricks = [];\n    this.bricks.forEach( column => column.forEach( brick => {\n      if (brick.status === 1 || brick.status === 2) {\n        allVisibleBricks.push(brick);\n      }\n    }));\n    return allVisibleBricks;\n  }\n}\n\nmodule.exports = Board;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/board.js\n// module id = 2\n// module chunks = 0","\nclass Computer {\n  constructor(ctx, canvas, img, game) {\n    this.ctx = ctx;\n    this.canvas = canvas;\n    this.img = img;\n    this.currentPosition = { x: canvas.width - 44, y: canvas.height - 44 };\n    this.status = 1;\n    this.game = game;\n    this.moveKeys = ['left', 'up', 'right', 'down'];\n  }\n  drawPlayer() {\n    this.ctx.drawImage(this.img, this.currentPosition.x,\n                       this.currentPosition.y, 44, 44);\n  }\n\n  walkingCollisionDetection(dx, dy) {\n    const bricks = this.game.board.allVisibleBricks();\n    for (let i = 0; i < bricks.length; i++) {\n      if ((this.currentPosition.x + 22) + dx >= bricks[i].x &&\n      (this.currentPosition.x + 22) + dx <= bricks[i].x + 44 &&\n      (this.currentPosition.y + 22) + dy >= bricks[i].y &&\n      (this.currentPosition.y + 22) + dy <= bricks[i].y + 44) {\n        return {dx: 0, dy: 0};\n      }\n    }\n    if ((this.currentPosition.x + 22) + dx >= this.game.player.currentPosition.x\n        && (this.currentPosition.x + 22) + dx <= this.game.player.currentPosition.x + 22\n        && (this.currentPosition.y + 22) + dy >= this.game.player.currentPosition.y\n        && (this.currentPosition.y + 22) + dy <= this.game.player.currentPosition.y + 22) {\n      return { dx: 0, dy: 0};\n    }\n\n    return { dx, dy };\n  }\n\n  handleAction() {\n    if (!this.game.started) {\n      return;\n    }\n    let dx = 0;\n    let dy = 0;\n    let newMove = { dx: 0, dy: 0 };\n    let moveIndex = Math.floor(Math.random() * 4); // moves.length\n    let moveKey = this.moveKeys[moveIndex];\n\n    if (moveKey === 'left') {\n      dx = -33;\n      dy = 0;\n      newMove = this.walkingCollisionDetection(dx, dy);\n    } else if (moveKey === 'up') {\n      dx = 0;\n      dy = -33;\n      newMove = this.walkingCollisionDetection(dx, dy);\n    } else if (moveKey === 'right') {\n      dx = 33;\n      dy = 0;\n      newMove = this.walkingCollisionDetection(dx, dy);\n    } else if (moveKey === 'down') {\n      dx = 0;\n      dy = 33;\n      newMove = this.walkingCollisionDetection(dx, dy);\n    }\n    dx = newMove.dx;\n    dy = newMove.dy;\n    return this.moveComputer(dx, dy);\n  }\n\n  moveComputer(dx, dy) {\n    if (this.currentPosition.x + dx < 0 || this.currentPosition.x + 22 + dx >= this.canvas.width) {\n      dx = 0;\n    }\n    if (this.currentPosition.y + dy < 65 || this.currentPosition.y + 22 + dy >= this.canvas.height) {\n      dy = 0;\n    }\n    this.currentPosition.x += dx;\n    this.currentPosition.y += dy;\n    return this.drawPlayer();\n  }\n}\n\nmodule.exports = Computer;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/computer.js\n// module id = 3\n// module chunks = 0","\nconst Board = require(\"./board\");\nconst Computer = require(\"./computer\");\nconst Player = require(\"./player\");\nconst Game = require(\"./game\");\nconst Item = require(\"./items\");\n\ndocument.addEventListener(\"DOMContentLoaded\", () => {\n  const canvasEl = document.getElementById('my-canvas');\n  const ctx = canvasEl.getContext('2d');\n\n  const howToButton = document.getElementById('how-to');\n  howToButton.addEventListener(\"click\", toggleModal, false);\n  const closeButton = document.getElementById('close');\n  closeButton.addEventListener(\"click\", toggleModal, false);\n\n  const board = new Board(canvasEl, ctx, canvasEl.width/2, canvasEl.height-65);\n  board.initializeBricks();\n\n  const computerSprite = new Image();\n  const computer = new Computer(ctx, canvasEl, computerSprite);\n  computerSprite.addEventListener(\"load\", function() {\n    computer.drawPlayer();\n  }, false);\n  computerSprite.src = 'src/assets/orange_player.svg';\n\n  const playerSprite = new Image();\n  const player = new Player(ctx, canvasEl, playerSprite);\n  playerSprite.addEventListener(\"load\", function () {\n    player.movePlayer.bind(player);\n    player.drawPlayer();\n  }, false);\n  playerSprite.src = 'src/assets/navy_blue_player.svg';\n\n  document.addEventListener(\"keydown\", function (e) {\n    player.keyDownHandler(e);\n  }, true);\n\n  const game = new Game(board, computer, player, canvasEl, ctx);\n  const startButton = document.getElementById('start');\n  startButton.addEventListener(\"click\", function () {\n    game.start.bind(this);\n    game.start();\n  }, true);\n\n  player.game = game;\n  computer.game = game;\n\n  const play = document.getElementsByClassName('play-again')[0]; // lost\n  play.addEventListener(\"click\", function () {\n    const lost = document.getElementById('lost');\n    lost.classList.remove('show');\n    document.location.reload();\n    game.start.bind(this);\n    game.start();\n  }, false);\n\n  const play2 = document.getElementsByClassName('play-again')[1]; // won\n  play2.addEventListener(\"click\", function () {\n    const won = document.getElementById('won');\n    won.classList.remove('show');\n    document.location.reload();\n    game.start.bind(this);\n    game.start();\n  }, false);\n\n});\n\nfunction toggleModal() {\n  const modal = document.getElementsByClassName('modal')[0];\n  if (modal.style.visibility === 'visible') {\n    modal.style.visibility = 'hidden';\n  } else {\n    modal.style.visibility = 'visible';\n  }\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/index.js\n// module id = 4\n// module chunks = 0","const Board = require(\"./board\");\nconst Computer = require(\"./computer\");\nconst Player = require(\"./player\");\n\n\nclass Game {\n  constructor(board, computer, player, canvas, ctx) {\n    this.board = board;\n    this.computer = computer;\n    this.player = player;\n    this.canvas = canvas;\n    this.ctx = ctx;\n    this.items = this.player.bombs;\n    this.destroyables = this.allDestroyableObjects();\n    this.draw = this.draw.bind(this);\n  }\n\n  allDestroyableObjects() {\n    return this.board.bricksStillStanding().concat(this.computer, this.player,\n    this.player.bombs, this.computer.bombs);\n  }\n\n  draw(timestamp) {\n    let start = timestamp;\n    let progress = timestamp - start;\n    this.ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);\n    this.board.draw();\n    this.computer.drawPlayer();\n    this.player.drawPlayer();\n    if (this.player.setBomb) {\n      this.destroyables = this.allDestroyableObjects();\n      this.player.bombs.forEach( bomb => {\n        if (bomb.status === 1) {\n          bomb.drawItem();\n          this.player.numBombs -= 1;\n          window.setTimeout(bomb.detonate.bind(bomb), 3000);\n          bomb.status = 2;\n        } else if (bomb.status === 2) {\n          bomb.drawItem();\n        } else if (bomb.status === 3) {\n          bomb.drawExplosion();\n          this.collisionDetection();\n          this.player.bombs.pop();\n          this.player.setBomb = false;\n          this.player.numBombs += 1;\n        }\n      });\n    }\n\n    if (!this.gameOver()) {\n      window.requestAnimationFrame(this.draw);\n    } else {\n      this.displayEndMessage();\n    }\n  }\n\n  start() {\n    this.started = true;\n    const gameCover = document.getElementById('game-start-cover');\n    if (gameCover.style.visibility === 'hidden') {\n      gameCover.style.visibility = 'visible';\n    } else {\n      gameCover.style.visibility = 'hidden';\n    }\n    window.setInterval(this.computer.handleAction.bind(this.computer), 500);\n    this.drawId = window.requestAnimationFrame(this.draw);\n  }\n\n  gameOver() {\n    return this.player.status === 0 || this.computer.status === 0;\n  }\n\n\n  collisionDetection() {\n    let bombPosition;\n    let playerBombPosition;\n    let computerBombPosition;\n\n    if (this.player.bombs) {\n      playerBombPosition = this.player.bombs[0].position;\n      this.player.bombAvatarCollisionDetection(playerBombPosition);\n      this.player.bombBrickCollisionDetection(playerBombPosition);\n    }\n  }\n\n  displayEndMessage() {\n    this.started = false;\n    if (this.player.status === 0) {\n      const modal = document.getElementById('lost');\n      modal.classList.add(\"show\");\n    } else {\n      const modal = document.getElementById('won');\n      modal.classList.add('show');\n    }\n  }\n}\n\nmodule.exports = Game;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/game.js\n// module id = 5\n// module chunks = 0"],"sourceRoot":""}